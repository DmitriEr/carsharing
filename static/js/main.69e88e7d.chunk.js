(this.webpackJsonpcarsharing=this.webpackJsonpcarsharing||[]).push([[0],{229:function(e,t,c){},235:function(e,t,c){},256:function(e,t,c){},260:function(e,t,c){},271:function(e,t,c){},286:function(e,t,c){},289:function(e,t,c){},298:function(e,t,c){},307:function(e,t,c){},329:function(e,t,c){},330:function(e,t){},331:function(e,t,c){},332:function(e,t,c){},339:function(e,t,c){},340:function(e,t,c){},341:function(e,t,c){},342:function(e,t,c){},343:function(e,t,c){},344:function(e,t,c){},345:function(e,t,c){},350:function(e,t,c){},351:function(e,t,c){},352:function(e,t,c){},353:function(e,t,c){},354:function(e,t,c){},355:function(e,t,c){},356:function(e,t,c){},357:function(e,t,c){},358:function(e,t,c){},359:function(e,t,c){},360:function(e,t,c){},361:function(e,t,c){},433:function(e,t,c){},434:function(e,t,c){},435:function(e,t,c){},436:function(e,t,c){},440:function(e,t,c){},441:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c(34),s=c.n(r),i=(c(229),c(41)),o=c(18),u=c(89),l=c(189),j=c(156),d=c(442),b=c(54),m=c(46),O="CHANGE_USER_CITY",h="CHANGE_POINT",f="CHANGE_MODEL",p="CHANGE_COLOR",x="CHANGE_TIME",v="CHANGE_PRICE",g="CHANGE_OPTION",N="CALCULATE_PRICE",y="CLEAR_ORDER",w="LOGIN";function C(e){return{type:O,payload:e}}function k(e){return{type:h,payload:e}}function S(e){return{type:f,payload:e}}function E(e){return{type:w,payload:e}}var I,T=c(27),H=c.n(T),P=c(40),V=function(){var e=Object(P.a)(H.a.mark((function e(){var t,c,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat("https://ipinfo.io","?token=").concat("d3e0918b0dab56"),e.next=4,fetch(t);case 4:if((c=e.sent).ok){e.next=13;break}return e.t0=Error,e.t1="HTTPS ".concat(c.status,": "),e.next=10,c.text();case 10:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 13:return e.next=15,c.json();case 15:return n=e.sent,e.abrupt("return",n);case 19:throw e.prev=19,e.t4=e.catch(0),new Error("Error in ipinfo - ".concat(e.t4.message));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),M=c.p+"static/media/location.480be180.svg",L={Samara:"\u0421\u0430\u043c\u0430\u0440\u0430",Ulyanovsk:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a",Saransk:"\u0421\u0430\u0440\u0430\u043d\u0441\u043a",Kazan:"\u041a\u0430\u0437\u0430\u043d\u044c",Krasnodar:"\u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440",Ufa:"\u0423\u0444\u0430",Saratov:"\u0421\u0430\u0440\u0430\u0442\u043e\u0432",Volgograd:"\u0412\u043e\u043b\u0433\u043e\u0433\u0440\u0430\u0434",Voronezh:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",Sterlitamak:"\u0421\u0442\u0435\u0440\u043b\u0438\u0442\u0430\u043c\u0430\u043a",Tambov:"\u0422\u0430\u043c\u0431\u043e\u0432",Arkhangelsk:"\u0410\u0440\u0445\u0430\u043d\u0433\u0435\u043b\u044c\u0441\u043a",Krasnoyarsk:"\u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a","Naberezhnye Chelny":"\u041d\u0430\u0431\u0435\u0440\u0435\u0436\u043d\u044b\u0435 \u0447\u0435\u043b\u043d\u044b"},_=function(e){return e.information.userCity},F=function(e){return e.router.location.pathname},A=function(e){return e.order.orderList},D=function(e){return e.information},Z=function(e){return e.price},z=function(e){return e.auth},R=(c(235),d.a.Header),Y=function(){var e=Object(o.d)(),t=Object(o.e)(_);return Object(a.useEffect)((function(){V().then((function(t){var c=L[t.city];e(C(c))}))}),[]),Object(n.jsxs)(R,{className:"order__header",children:[Object(n.jsx)(m.b,{to:"/carsharing/main",children:Object(n.jsx)("span",{className:"header__logo",children:"Need for drive"})}),Object(n.jsxs)("div",{className:"header__location",children:[Object(n.jsx)("img",{src:M,alt:"location"}),Object(n.jsx)("span",{className:"header__city",children:t})]})]})},B=(c(256),d.a.Content),G=d.a.Footer,J=function(){return Object(n.jsxs)(d.a,{className:"main-page__order",children:[Object(n.jsx)(Y,{}),Object(n.jsx)(B,{className:"content",children:Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"name common",children:"\u041a\u0430\u0440\u0448\u0435\u0440\u0438\u043d\u0433"}),Object(n.jsx)("div",{className:"title common",children:"Need for drive"}),Object(n.jsx)("div",{className:"description common",children:"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u0430\u044f \u0430\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e \u0442\u0432\u043e\u0435\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(n.jsx)(m.b,{to:"/carsharing/order",children:Object(n.jsx)(b.a,{className:"btn",type:"primary",children:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})}),Object(n.jsxs)(G,{className:"footer",children:[Object(n.jsx)("span",{children:"\xa9 2016-2019 \xabNeed for drive\xbb"}),Object(n.jsx)("a",{href:"tel:8-495-234-22-44",children:"8 (495) 234-22-44"})]})]})},U=c(6),W=c(95),q=c(451),K=c.p+"static/media/Slide_1.4cff0d29.jpg",X=c.p+"static/media/Slide_2.79c70027.png",Q=c.p+"static/media/Slide_3.a2384b88.png",$=c.p+"static/media/Slide_4.77d3edc0.png",ee=c.p+"static/media/Facebook_white.01c0ca6a.svg",te=c.p+"static/media/Instagram.5e14e95a.svg",ce=c.p+"static/media/Telegram_white.09f73cfe.svg",ne=["\u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430","\u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430","\u0431\u0435\u043d\u0437\u0438\u043d","\u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"],ae=[{picture:ee,name:"facebook",link:"https://www.facebook.com/dmitri.erkin"},{picture:te,name:"instagram",link:"https://www.instagram.com/idmitriier/?hl=ru"},{picture:ce,name:"telegram",link:"https://web.telegram.org/"}],re=[{title:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430",content:"\u041e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043c\u0430\u0448\u0438\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430\u0445 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u041f\u0414\u0414, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430\u0445.",background:K},{title:"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430",content:"\u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f",background:X},{title:"\u0411\u0435\u043d\u0437\u0438\u043d",content:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0437\u0430 \u043d\u0430\u0448 \u0441\u0447\u0451\u0442",background:Q},{title:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",content:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0435 \u0422\u041e",background:$}],se=(c(260),d.a.Sider),ie=W.a.Item,oe=function(){var e=Object(o.e)(F).split("/"),t=Object(a.useState)(80),c=Object(U.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)(!1),u=Object(U.a)(i,2),l=u[0],j=u[1];return Object(n.jsxs)(se,{className:"sidebar",width:r,children:[Object(n.jsx)("div",{onClick:function(){l?(s(80),j(!1)):(s("100%"),j(!0))},className:l?"btn-off btn":"btn-on btn"}),function(){if(l)return Object(n.jsxs)("div",{className:"menu",children:[Object(n.jsx)("div",{className:"menu-open",children:Object(n.jsxs)("div",{className:"inner-wrapper",children:[Object(n.jsx)(W.a,{className:"items",children:ne.map((function(e){return Object(n.jsx)(ie,{onClick:function(){return j(!1),void s(80)},children:Object(n.jsx)(m.b,{to:"/carsharing/main",className:"item",children:e.toUpperCase()})},e)}))}),Object(n.jsx)("ul",{className:"links",children:ae.map((function(e){var t=e.picture,c=e.name,a=e.link;return Object(n.jsx)("a",{href:a,target:"blank",className:"link",children:Object(n.jsx)(q.a,{src:t,alt:"social",preview:!1,className:"img"})},c)}))})]})}),Object(n.jsx)("div",{className:"order"===e[e.length-1]?"menu-full dark":"menu-full light"})]})}()]})},ue=c(443),le=c(4),je=c.n(le),de=c.p+"static/media/left.1752ae91.svg",be=c.p+"static/media/right.7591c327.svg",me=(c(271),d.a.Content),Oe=function(){var e=Object(a.useRef)(null),t=function(){return e.current.prev()},c=function(){return e.current.next()};return Object(n.jsx)(ue.a,{className:"main-page__slider",dots:{className:"btn-down"},ref:e,children:re.map((function(e,a){var r=e.title,s=e.content,i=e.background;return Object(n.jsx)(d.a,{className:"wrapper",children:Object(n.jsxs)(me,{className:"slide",children:[Object(n.jsx)(q.a,{src:i,alt:r,className:je()("background","background-".concat(a)),preview:!1}),Object(n.jsx)("div",{className:"filter"}),Object(n.jsx)(b.a,{type:"ghost",className:"control-left control",onClick:t,children:Object(n.jsx)(q.a,{src:de,alt:"left",preview:!1})}),Object(n.jsx)(b.a,{type:"ghost",className:"control-right control",onClick:c,children:Object(n.jsx)(q.a,{src:be,alt:"right",preview:!1})}),Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)("span",{className:"title",children:r}),Object(n.jsx)("div",{className:"description",children:s}),Object(n.jsx)(m.b,{to:"/carsharing/order",children:Object(n.jsx)(b.a,{className:je()("btn","btn-".concat(a)),type:"primary",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})]})]})},r)}))})},he=(c(286),function(){return Object(n.jsxs)(d.a,{className:"main-page",style:{overflow:"hidden",background:"#fff"},children:[Object(n.jsx)(oe,{}),Object(n.jsx)(J,{}),Object(n.jsx)(Oe,{})]})}),fe=c(2),pe=c(9),xe=c(126),ve=c.n(xe),ge=(c(287),c(288),function(){var e=Object(P.a)(H.a.mark((function e(t){var c,n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="https://api.opencagedata.com/geocode/v1/json?q=".concat(t.trim(),"&key=").concat("760aff3ccfa64277b41cf95272171c1c"),e.next=4,fetch(c);case 4:if((n=e.sent).ok){e.next=13;break}return e.t0=Error,e.t1="HTTPS ".concat(n.status,": "),e.next=10,n.text();case 10:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 13:return e.next=15,n.json();case 15:return a=e.sent,e.abrupt("return",a);case 19:throw e.prev=19,e.t4=e.catch(0),new Error("Error in geocode - ".concat(e.t4.message));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}()),Ne=(c(289),function(e){var t=e.points,c=Object(o.e)(D),r=Object(o.e)(A),s=Object(a.useState)([]),i=Object(U.a)(s,2),u=i[0],l=i[1],j=Object(a.useState)({latitude:0,longtitude:0,zoom:10}),d=Object(U.a)(j,2),b=d[0],m=d[1],O=Object(a.useRef)(null),h=Object(a.useState)(null),f=Object(U.a)(h,2),p=f[0],x=f[1],v=c.userCity,g=r[0].value;return Object(a.useEffect)((function(){(v||g.length)&&ge("".concat(v," ").concat(g)).then((function(e){var t,c,n=e.results;if(0===g.length){var a=n.filter((function(e){if("city"===e.components._type)return!0})),r=Object(U.a)(a,1)[0].geometry;c=r.lng,t=r.lat}else{var s=Object(U.a)(n,1)[0].geometry;c=s.lng,t=s.lat}m({latitude:t,longtitude:c,zoom:g.length?15:10})}))}),[v,g]),Object(a.useEffect)((function(){v&&p&&t&&t.forEach((function(e){u.includes(e.value)||(l((function(t){return[].concat(Object(pe.a)(t),[e.value])})),ge("".concat(v,", ").concat(e.value)).then((function(t){var c=t.results;if(c.length){var n=c[0].geometry,a=n.lat,r=n.lng;(new ve.a.Marker).setLngLat([r,a]).setPopup(new ve.a.Popup({offset:25}).setHTML(e.value)).addTo(p)}})))}))}),[v,p,t]),Object(a.useEffect)((function(){if(b.latitude){ve.a.accessToken="pk.eyJ1IjoiZG1pdHJpZXIiLCJhIjoiY2thaTZmNzFxMG40cjMwbzBnc3B2aHowOSJ9.q40lHO4-30difBBHLsTIyQ";p||function(e,t){if(!t.current)return null;var c=b.latitude,n=b.longtitude,a=b.zoom;e(new ve.a.Map({container:t.current,style:"mapbox://styles/mapbox/outdoors-v11",center:[n,c],zoom:a,bearing:0}))}(x,O)}}),[p,b]),Object(a.useEffect)((function(){null!==p&&p.flyTo({center:[b.longtitude,b.latitude],essential:!0,zoom:b.zoom})}),[b]),Object(n.jsx)("div",{ref:O,className:"mapContainer"})}),ye="https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/",we="".concat(ye,"api/db/"),Ce="".concat(ye,"api/auth/"),ke={"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Content-Type":"application/json",Authorization:"4cbcea96de"},Se=function(){var e=Object(P.a)(H.a.mark((function e(t){var c,n,a,r,s,i=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.length>1&&void 0!==i[1]?i[1]:0,n=i.length>2&&void 0!==i[2]?i[2]:50,e.prev=2,a="".concat(we).concat(t,"?page=").concat(c,"&limit=").concat(n),e.next=6,fetch(a,{headers:ke});case 6:if((r=e.sent).ok){e.next=15;break}return e.t0=Error,e.t1="HTTP ".concat(r.status,": "),e.next=12,r.text();case 12:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 15:return e.next=17,r.json();case 17:return s=e.sent,e.abrupt("return",s);case 21:throw e.prev=21,e.t4=e.catch(2),new Error("Error in getData path ".concat(t,": ").concat(e.t4.message));case 24:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(P.a)(H.a.mark((function e(t){var c,n,a,r,s=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>1&&void 0!==s[1]?s[1]:0,e.prev=1,n="".concat(we).concat(t,"?page=").concat(c,"&limit=1"),e.next=5,fetch(n,{headers:Object(fe.a)(Object(fe.a)({},ke),{},{Authorization:"Bearer ".concat(localStorage.getItem("token"))})});case 5:if((a=e.sent).ok){e.next=14;break}return e.t0=Error,e.t1="HTTP ".concat(a.status,": "),e.next=11,a.text();case 11:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 14:return e.next=16,a.json();case 16:return r=e.sent,e.abrupt("return",r);case 20:throw e.prev=20,e.t4=e.catch(1),new Error("Error in getData path ".concat(t,": ").concat(e.t4.message));case 23:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),Ie=c(123),Te=["\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","\u041c\u043e\u0434\u0435\u043b\u044c","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e","\u0418\u0442\u043e\u0433\u043e"],He=["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e","\u0418\u0442\u043e\u0433\u043e","\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"],Pe=["\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438","\u042d\u043a\u043e\u043d\u043e\u043c","\u041f\u0440\u0435\u043c\u0438\u0443\u043c"],Ve={value:"",cityId:"",pointId:""},Me=Ie.a.Option,Le=function(e){var t=e.options,c=e.name,a=e.changeOption,r=e.initValue,s=e.deletePoint,i=e.deleteOption,u=Object(o.d)();return Object(n.jsx)(Ie.a,{placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c ".concat(c),className:"select",showArrow:!1,showSearch:!0,bordered:!1,onChange:function(e){var c;c=e,i?(u(s(Ve)),u(a(c))):t.forEach((function(e){e.value==c&&u(a(e))}))},value:r,children:t.map((function(e,t){return Object(n.jsx)(Me,{value:e.value,label:e.value,children:e.value},t)}))})},_e=(c(298),function(e){var t=e.userCity,c=e.checkPoint,r=Object(a.useState)([]),s=Object(U.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)([]),l=Object(U.a)(u,2),j=l[0],d=l[1];return Object(a.useEffect)((function(){Se("city").then((function(e){var t=e.data.map((function(e){return{value:e.name}}));o(t)}))}),[]),Object(a.useEffect)((function(){t.length&&Se("point").then((function(e){var c=e.data.reduce((function(e,c){return e.some((function(e){return e.value===c.address}))||t!==c.cityId.name||e.push({value:c.address,pointId:c.id,cityId:c.cityId.id}),e}),[]);d(c)}))}),[t]),Object(n.jsxs)("div",{className:"location",children:[Object(n.jsxs)("div",{className:"city",children:[Object(n.jsx)("span",{className:"name",children:"\u0413\u043e\u0440\u043e\u0434:"}),Object(n.jsx)(Le,{options:i,name:"\u0433\u043e\u0440\u043e\u0434",changeOption:C,deletePoint:k,initValue:t,deleteOption:!0})]}),Object(n.jsxs)("div",{className:"point",children:[Object(n.jsx)("span",{className:"name",children:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438:"}),Object(n.jsx)(Le,{options:j,name:"\u043f\u0443\u043d\u043a\u0442",changeOption:k,initValue:c,deleteOption:!1})]}),Object(n.jsxs)("div",{className:"map",children:[Object(n.jsx)("span",{className:"name",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435:"}),Object(n.jsx)(Ne,{points:j})]})]})}),Fe=c(448),Ae=c(158),De=c(155),Ze=function(e){var t=e.countPages,c=e.currentPage,a=e.func;return Object(n.jsx)(De.a,{className:"pagination",size:"small",pageSize:1,total:t,current:c,onChange:function(e){return a(e)}})},ze=c(446),Re=function(e,t){var c=(t-e)/6e4,n=Math.floor(c/1440),a=Math.floor(c%1440/60),r=Math.floor(c%60),s=n>0?"".concat(n,"\u0434"):"",i=a>0?"".concat(a,"\u0447"):"",o=r>0?"".concat(r,"\u043c"):"";return c<60?"".concat(o):c>=60&&c<1440?"".concat(i," ").concat(o):c>=1440&&c<525600?"".concat(s," ").concat(i," ").concat(o):void 0},Ye=function(e){return e.split("").reduce((function(e,t,c){return e+=0===c?t.toUpperCase():t.toLowerCase()}),"")},Be=function(e){var t=e.path;return"/"===e.path[0]?"".concat(ye).concat(t):"".concat(t)},Ge=function(e){var t=e.cars,c=e.currentCar,a=e.setColorsOpt,r=Object(o.d)(),s=Object(o.e)(A);return Object(n.jsx)(n.Fragment,{children:t.map((function(e,t){var i=e.name,o=e.priceMin,u=e.priceMax,l=e.thumbnail,j=e.number,d=e.colors,b=e.id;return Object(n.jsx)(ze.a,{size:"small",title:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"title",children:i}),Object(n.jsx)("div",{className:"price",children:"".concat(o," - ").concat(u," \u0420")})]}),className:c===i?je()("active","card"):"card",onClick:function(){return function(e,t,c,n,i,o,u){r(S(Object(fe.a)(Object(fe.a)({},s[1]),{},{value:e,min:t,max:c,number:n,pathImg:i,carId:u}))),a(o)}(i,o,u,j,l.path,d,b)},children:Object(n.jsx)(q.a,{preview:!1,src:Be(l),alt:i,referrerPolicy:"origin",crossOrigin:"anonymous"})},t)}))})},Je=c(144),Ue=function(){return Object(n.jsx)(Je.a,{})},We="#CACEDB",qe=[{picture:"M0 22.25C0 9.96178 9.96198 0 22.2504 0C34.538 0 44.5 9.96178 44.5 22.25C44.5 25.0644 43.9774 27.7567 43.0241 30.2353C41.3767 27.6868 38.5104 26 35.25 26C30.1414 26 26 30.1414 26 35.25C26 38.5104 27.6868 41.3768 30.2354 43.0241C27.7569 43.9775 25.0647 44.5 22.2504 44.5C9.96198 44.5 0 34.5382 0 22.25ZM30.2354 43.0241C31.6801 43.9579 33.4018 44.5 35.25 44.5C40.3586 44.5 44.5 40.3586 44.5 35.25C44.5 33.4017 43.9579 31.6801 43.0241 30.2353C40.7682 36.1002 36.1001 40.7682 30.2354 43.0241Z",fill:"#0EC261",name:"Need for drive",width:"45",height:"45",type:"logo"},{picture:"M13.3213 4.10853C13.5596 4.34683 13.5596 4.73177 13.3213 4.97007L12.2031 6.08825L9.91174 3.7969L11.0299 2.67873C11.2682 2.44042 11.6532 2.44042 11.8915 2.67873L13.3213 4.10853ZM2.5 13.5V11.2086L9.25795 4.4507L11.5493 6.74205L4.79135 13.5H2.5Z",fill:We,name:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438",width:"15",height:"15",type:"car"},{picture:"M13.3213 4.10853M2.5 3.5V4.85714H7.83333V3.5H2.5ZM7.83333 7.57142H2.5V6.21428H7.83333V7.57142ZM2.5 10.2857H7.83333V8.92857H2.5V10.2857ZM2.5 13H7.83333V11.6429H2.5V13ZM14.5 3.5H9.16663V13H14.5V3.5Z",fill:We,name:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",width:"17",height:"16",type:"category"},{picture:"M7.5 1H3.5C2.95 1 2.505 1.45 2.505 2L2.5 10C2.5 10.55 2.945 11 3.495 11H9.5C10.05 11 10.5 10.55 10.5 10V4L7.5 1ZM8.5 8H7V9.5H6V8H4.5V7H6V5.5H7V7H8.5V8ZM7 1.75V4.5H9.75L7 1.75Z",fill:We,name:"\u0413\u043e\u0440\u043e\u0434\u0430",width:"13",height:"12",type:"city"},{picture:"M7.5 1H3.5C2.95 1 2.505 1.45 2.505 2L2.5 10C2.5 10.55 2.945 11 3.495 11H9.5C10.05 11 10.5 10.55 10.5 10V4L7.5 1ZM8.5 8H7V9.5H6V8H4.5V7H6V5.5H7V7H8.5V8ZM7 1.75V4.5H9.75L7 1.75Z",fill:We,name:"\u0422\u043e\u0447\u043a\u0438",width:"13",height:"12",type:"point"},{picture:"M10.8949 2H2.60538C1.99749 2 1.50012 2.5 1.50012 3.11111V4.77778H12.0001V3.11111C12.0001 2.5 11.5028 2 10.8949 2ZM10.8947 12H9.23682V5.88889H12V10.8889C12 11.5 11.5026 12 10.8947 12ZM8.13157 5.9H5.36841V12H8.13157V5.9ZM2.60526 12C1.99737 12 1.5 11.5 1.5 10.8889V5.88889H4.26316V12H2.60526Z",fill:We,name:"\u0417\u0430\u043a\u0430\u0437\u044b",width:"13",height:"13",type:"order"},{picture:"M9.875 3.125C9.875 4.85156 8.47656 6.25 6.75 6.25C5.02344 6.25 3.625 4.85156 3.625 3.125C3.625 1.39844 5.02344 0 6.75 0C8.47656 0 9.875 1.39844 9.875 3.125ZM0.5 10.9375C0.5 8.85938 4.66406 7.8125 6.75 7.8125C8.83594 7.8125 13 8.85938 13 10.9375V12.5H0.5V10.9375Z",fill:We,name:"\u0421\u0442\u0430\u0432\u043a\u0438",width:"13",height:"12",type:"rate"},{picture:"M7.25 1.5C4.076 1.5 1.5 4.076 1.5 7.25C1.5 10.424 4.076 13 7.25 13C10.424 13 13 10.424 13 7.25C13 4.076 10.424 1.5 7.25 1.5ZM7.82505 10.125H6.67505V8.97501H7.82505V10.125ZM6.67505 7.825H7.82505V4.375H6.67505V7.825Z",fill:We,name:"\u0422\u0438\u043f\u044b",width:"15",height:"13",type:"rateType"},{picture:"M10.8949 2H2.60538C1.99749 2 1.50012 2.5 1.50012 3.11111V4.77778H12.0001V3.11111C12.0001 2.5 11.5028 2 10.8949 2ZM10.8947 12H9.23682V5.88889H12V10.8889C12 11.5 11.5026 12 10.8947 12ZM8.13157 5.9H5.36841V12H8.13157V5.9ZM2.60526 12C1.99737 12 1.5 11.5 1.5 10.8889V5.88889H4.26316V12H2.60526Z",fill:We,name:"\u0421\u0442\u0430\u0442\u0443\u0441\u044b",width:"13",height:"13",type:"orderStatus"}],Ke="order",Xe="page",Qe="error",$e=["car","category","city","point","order","rate","rateType","orderStatus"],et={name:"\u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",description:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",number:"\u043d\u043e\u043c\u0435\u0440 \u043c\u0430\u0448\u0438\u043d\u044b",priceMin:"\u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430",priceMax:"\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430",address:"\u0430\u0434\u0440\u0435\u0441\u0441",price:"\u0446\u0435\u043d\u0430",unit:"\u0435\u0434\u0435\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f",car:"\u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f",category:"\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",city:"\u0433\u043e\u0440\u043e\u0434\u0430",point:"\u0442\u043e\u0447\u043a\u0438",order:"\u0437\u0430\u043a\u0430\u0437\u0430",rate:"\u0441\u0442\u0430\u0432\u043a\u0438",rateTyp:"\u0442\u0438\u043f\u0430",orderStatus:"\u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043a\u0430\u0437\u0430",new:"\u043d\u043e\u0432\u044b\u0439",issued:"\u0438\u0437\u043c\u0435\u043d\u0435\u043d",confirmed:"\u043f\u043e\u0442\u0434\u0432\u0435\u0440\u0436\u0434\u0435\u043d",cancelled:"\u043e\u0442\u043c\u0435\u043d\u0435\u043d"},tt={car:["name","description","number","priceMin","priceMax"],category:["name","description"],city:["name"],point:["address","name"],rate:["price"],rateType:["name","unit"],orderStatus:["name"]},ct=["page","key","createdAt","updatedAt","id"],nt={colors:[],categoryId:{name:"",id:""},thumbnail:{mimetype:"",originalname:"",path:"",size:0}},at=(c(307),Fe.a.Paragraph),rt=function(e){var t=e.setColorsOpt,c=Object(o.e)(A)[1].value,r=Object(a.useState)([]),s=Object(U.a)(r,2),i=s[0],u=s[1],l=Object(a.useState)("\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"),j=Object(U.a)(l,2),d=j[0],b=j[1],m=Object(a.useState)(!0),O=Object(U.a)(m,2),h=O[0],f=O[1],p=Object(a.useState)([]),x=Object(U.a)(p,2),v=x[0],g=x[1],N=Object(a.useState)(1),y=Object(U.a)(N,2),w=y[0],C=y[1],k=Object(a.useState)(0),S=Object(U.a)(k,2),E=S[0],I=S[1];return Object(a.useEffect)((function(){Se("car",w-1,10).then((function(e){var t=e.data,c=e.count;u(t),g(t),I(Math.ceil(c/10))}))}),[w]),Object(a.useEffect)((function(){var e=v.filter((function(e){var t=e.categoryId;switch(d){case t.name:case Pe[0]:return!0;default:return!1}}));u(e)}),[d]),Object(a.useEffect)((function(){0===i.length?f(!0):f(!1)}),[i]),Object(n.jsxs)(at,{className:"cards",children:[Object(n.jsx)(Ae.a.Group,{onChange:function(e){return b(e.target.value)},value:d,className:"radio-btns",children:Pe.map((function(e){return Object(n.jsx)(Ae.a,{value:e,children:e},e)}))}),h?Object(n.jsx)(Ue,{}):Object(n.jsx)(Ge,{cars:i,currentCar:c,setColorsOpt:t}),Object(n.jsx)(at,{className:"pagination",children:Object(n.jsx)(Ze,{currentPage:w,func:C,countPages:E})})]})},st=(c(329),function(e){var t=e.numberStatus,c=e.switchForm,r=Object(o.d)(),s=Object(o.e)(A),i=Object(o.e)(Z),u=Object(U.a)(s,8),l=u[1],j=u[2],d=u[3],m=u[4],O=u[5],h=u[6],f=u[7],p=function(e,t){return e?t:0},x=function(){return p(O.visible,O.count)+p(h.visible,h.count)+p(f.visible,f.count)};Object(a.useEffect)((function(){var e,t;e=7===m.count?d.count*m.count+x():1999===m.count?d.count/1440*m.count+x():Math.ceil(d.count/10080)*m.count+x(),r((t=parseInt(e,10),{type:N,payload:t}))}),[m,d,O,h,f]);var v=function(){return!!(t.active<=1&&s[t.active].value.length)||(!!(j.value&&d.value&&m.value&&i>=s[1].min&&i<=s[1].max)||void 0)};return Object(n.jsxs)("div",{className:"result",children:[Object(n.jsx)("h2",{children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437"}),s.map((function(e){var c=e.name,a=e.value,r=e.orderNumber,s=e.visible;if(r<=t.current&&s)return Object(n.jsxs)("div",{className:"list",children:[Object(n.jsx)("div",{className:"dots link",children:Object(n.jsx)("span",{className:"field",children:c})}),Object(n.jsx)("span",{className:"address",children:a})]},c)})),Object(n.jsxs)("div",{className:"price",children:[Object(n.jsx)("span",{children:"\u0426\u0435\u043d\u0430: "}),Object(n.jsx)("span",{children:function(){switch(t.active){case 1:return"".concat(l.min,"-").concat(l.max);case 2:return i;default:return""}}()})]}),Object(n.jsx)(b.a,{disabled:!v(),onClick:c,className:v()?je()("btn","btn-active"):je()("btn","btn-disable"),title:function(){if(2===t.active){if(i<s[1].min)return"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430 ".concat(s[1].min);if(i>s[1].max)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430 ".concat(s[1].max)}}(),children:He[t.active]})]})}),it=(c(330),c(331),function(e){var t=e.numberStatus,c=e.setNumberStatus,a=function(e){return e<Te.findIndex((function(e,c){return c===t.current}))?"status-prev":""},r=function(e){var c=t.active;return e>=c-1&&e<=c+1?"":"status-mobile"};return Object(n.jsx)("div",{className:"statuses",children:Te.map((function(e,s){return Object(n.jsx)("span",{onClick:function(){var e;(e=s)<=t.current&&c(Object(fe.a)(Object(fe.a)({},t),{},{active:e}))},className:je()("status",(i=s,t.current===i?"status-active":""),a(s),r(s)),children:e},e);var i}))})}),ot=c(453),ut=c(444),lt=c(59),jt=c.n(lt),dt=(c(332),new Intl.DateTimeFormat("ru",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})),bt=function(e){var t=e.queue,c=e.setDiffTime,a=e.diffTime,r=e.disabledDate,s=e.option,i=e.moments,u=e.setMomentStart,l=e.setMomentEnd,j=e.defaultTime,d=Object(o.d)(),b=Object(o.e)(A)[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"date-value",children:t?"\u041f\u043e":"C"}),Object(n.jsx)(ot.b,{direction:"vertical",size:300,className:"date-picker",children:Object(n.jsx)(ut.a,{showTime:{format:"HH:mm"},className:"date",format:"DD-MM-YYYY HH:mm",disabledDate:function(e){return r(e,s)},onOk:function(e){var n=e._d.getTime();t?(c(Object(fe.a)(Object(fe.a)({},a),{},{end:n})),l(e)):(c(Object(fe.a)(Object(fe.a)({},a),{},{start:n})),u(e),d(S(Object(fe.a)(Object(fe.a)({},b),{},{time:dt.format(new Date(e._d))}))))},allowClear:!0,bordered:!1,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f",value:i,onChange:function(e){null===e&&(t?l(null):(u(null),l(null),c({start:0,end:0}),d(S(Object(fe.a)(Object(fe.a)({},b),{},{time:""})))))},disabled:!(!t||0!==a.start),defaultValue:0!==j?jt()(j):null})})]})},mt=(c(339),Fe.a.Text),Ot=d.a.Content,ht=function(e){var t=e.title,c=e.setOption,a=e.list,r=e.option,s=e.currentValue;return Object(n.jsxs)(Ot,{className:"select-wrapper",children:[Object(n.jsx)(mt,{className:"title",children:t}),Object(n.jsx)(Ae.a.Group,{onChange:function(e){return c(e.target.value)},className:"select-values",value:s,children:a.map((function(e){return Object(n.jsx)(Ae.a,{value:e,className:r===e?je()("active","value"):"value",children:e},e)}))})]})},ft=c(124),pt=function(e){var t=e.index,c=Object(o.d)(),a=Object(o.e)(A);return Object(n.jsx)(ft.a,{defaultChecked:a[t].visible,onChange:function(e){var n;c((n={ind:t,visible:e.target.checked},{type:g,payload:n}))},className:"checkbox",children:"".concat(a[t].name,", ").concat(a[t].count,"\u20bd")})},xt=(c(340),Fe.a.Text),vt=d.a.Content,gt=function(e){var t=e.colorsOpt,c=Object(o.d)(),r=Object(o.e)(A),s=Object(a.useState)(),i=Object(U.a)(s,2),u=i[0],l=i[1],j=Object(a.useState)(),d=Object(U.a)(j,2),b=d[0],m=d[1],O=Object(a.useState)([]),h=Object(U.a)(O,2),f=h[0],g=h[1],N=Object(a.useState)([]),y=Object(U.a)(N,2),w=y[0],C=y[1],k=Object(a.useState)({start:r[3].start,end:r[3].end}),S=Object(U.a)(k,2),E=S[0],I=S[1],T=Object(a.useState)(Date.now()),H=Object(U.a)(T,2),P=H[0],V=H[1],M=Object(a.useState)(),L=Object(U.a)(M,2),_=L[0],F=L[1],D=Object(a.useState)(),Z=Object(U.a)(D,2),z=Z[0],R=Z[1];Object(a.useEffect)((function(){Se("rate").then((function(e){var t=e.data,c=t.map((function(e){var t=e.price,c=e.rateTypeId;return"".concat(c.name,", ").concat(t,"\u20bd")}));C(t),g(c)}))}),[]),Object(a.useEffect)((function(){u&&"undefined"!==typeof u&&c({type:p,payload:u})}),[u]),Object(a.useEffect)((function(){if(b){var e=b.split(","),t=Object(U.a)(e,1)[0];w.forEach((function(e){var n=e.id,a=e.price;e.rateTypeId.name===t&&c({type:v,payload:{value:t,count:a,rateId:n}})}))}}),[b]),Object(a.useEffect)((function(){var e,t=E.start,n=E.end,a=(n-t)/6e4;c((e={value:Re(t,n),count:a,start:t,end:n},{type:x,payload:e})),V(E.start)}),[E]);var Y=function(e,t){var c=e._d;return new Date(t).valueOf()>=new Date(c).valueOf()};return Object(n.jsxs)(vt,{className:"options-wrapper",children:[Object(n.jsx)(ht,{list:t,title:"\u0426\u0432\u0435\u0442",setOption:l,option:u,currentValue:r[2].value}),Object(n.jsxs)(vt,{className:"date-wrapper",children:[Object(n.jsx)(xt,{className:"title",children:"\u0414\u0430\u0442\u0430 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(n.jsx)(bt,{queue:!1,setDiffTime:I,diffTime:E,disabledDate:Y,option:Date.now(),setMomentEnd:R,setMomentStart:F,moments:_,defaultTime:E.start}),Object(n.jsx)(bt,{queue:!0,setDiffTime:I,diffTime:E,disabledDate:Y,option:P,setMomentStart:F,setMomentEnd:R,moments:z,defaultTime:E.end})]}),Object(n.jsx)(ht,{list:f,title:"\u0422\u0430\u0440\u0438\u0444",setOption:m,option:b,currentValue:"".concat(r[4].value,", ").concat(r[4].count,"\u20bd")}),Object(n.jsxs)(vt,{className:"checkbox-wrapper",children:[Object(n.jsx)(xt,{className:"title",children:"\u0414\u043e\u043f \u0443\u0441\u043b\u0443\u0433\u0438"}),Object(n.jsx)(pt,{index:5}),Object(n.jsx)(pt,{index:6}),Object(n.jsx)(pt,{index:7})]})]})},Nt=(c(341),function(){var e=Object(o.e)(A)[1],t=e.value,c=e.number,a=e.time,r=e.pathImg;return Object(n.jsxs)("div",{className:"confirm",children:[Object(n.jsxs)("div",{className:"data-car",children:[Object(n.jsx)("p",{className:"model-car",children:t}),Object(n.jsx)("p",{className:"number-car",children:Object(n.jsx)("span",{children:c})}),Object(n.jsxs)("p",{className:"fuels-car",children:[Object(n.jsx)("span",{className:"title",children:"\u0422\u043e\u043f\u043b\u0438\u0432\u043e "}),Object(n.jsx)("span",{className:"percent",children:"100%"})]}),Object(n.jsxs)("p",{className:"date",children:[Object(n.jsx)("span",{className:"title",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441 "}),Object(n.jsx)("span",{className:"time",children:a})]})]}),Object(n.jsx)("div",{className:"picture-car",children:Object(n.jsx)("img",{src:"".concat(ye).concat(r),crossOrigin:"anonymous",referrerPolicy:"origin"})})]})}),yt=c(450),wt=function(){var e=Object(P.a)(H.a.mark((function e(t,c){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(we).concat(c),{method:"POST",headers:Object(fe.a)(Object(fe.a)({},ke),{},{Authorization:"Bearer ".concat(localStorage.getItem("token"))}),body:JSON.stringify(t)});case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("HTTP ".concat(n.status,": ").concat(n.text()));case 6:return e.next=8,n.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Error in create ".concat(c,": ").concat(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,c){return e.apply(this,arguments)}}(),Ct=(c(342),function(e){var t=e.setNumberStatus,c=Object(a.useState)(""),r=Object(U.a)(c,2),s=r[0],i=r[1],u=Object(o.e)(A),l=Object(o.e)(Z),j={carId:{id:u[1].carId},cityId:{id:u[0].cityId},pointId:{id:u[0].pointId},rateId:{id:u[4].rateId},orderStatusId:{id:s},color:u[2].value,dateFrom:u[3].start,dateTo:u[3].end,price:l,isFullTank:u[5].visible,isNeedChildChair:u[6].visible,isRightWheel:u[7].visible};return Object(a.useEffect)((function(){Se("orderStatus").then((function(e){var t=e.data;return i(t[0].id)}))}),[]),Object(a.useEffect)((function(){s.length&&wt(j,"order").then((function(e){var t=e.data;return localStorage.setItem("id",t.id)}))}),[s]),Object(n.jsxs)(yt.a,{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",maskStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",WebkitBoxShadow:"none"},visible:!0,closable:!1,centered:!0,footer:null,children:[Object(n.jsx)(m.b,{to:"/carsharing/order/".concat(localStorage.getItem("id")),children:Object(n.jsx)(b.a,{children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})}),Object(n.jsx)(b.a,{onClick:function(){return t({current:3,active:3})},className:"btn-primary",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})}),kt=(c(343),d.a.Content),St=function(){var e=Object(a.useState)({active:0,current:0}),t=Object(U.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)([]),i=Object(U.a)(s,2),u=i[0],l=i[1],j=Object(o.e)(D),b=Object(o.e)(A)[0].value,m=j.userCity;return Object(n.jsxs)(d.a,{className:"order-page",style:{overflow:"hidden",background:"#fff"},children:[Object(n.jsx)(oe,{}),Object(n.jsx)(kt,{className:"wrapper",children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(Y,{}),Object(n.jsx)(kt,{className:"tabs",children:Object(n.jsx)(it,{numberStatus:c,setNumberStatus:r})}),Object(n.jsxs)(kt,{className:"content",children:[Object(n.jsx)("div",{className:"forms",children:function(){switch(c.active){case 0:return Object(n.jsx)(_e,{userCity:m,checkPoint:b});case 1:return Object(n.jsx)(rt,{setColorsOpt:l});case 2:return Object(n.jsx)(gt,{colorsOpt:u});case 3:return Object(n.jsx)(Nt,{});default:return Object(n.jsx)(Ct,{setNumberStatus:r})}}()}),Object(n.jsx)(st,{numberStatus:c,switchForm:function(){var e=c.active+1;e>c.current?r({current:e,active:e}):r(Object(fe.a)(Object(fe.a)({},c),{},{active:e}))}})]})]})})]})},Et=c(454),It=function(e){var t=e.svg,c=e.color,a=e.width,r=e.height;return Object(n.jsx)("svg",{width:a,height:r,viewBox:"0 0 ".concat(a," ").concat(r),fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"avatar",children:Object(n.jsx)("path",{id:"Logo Icon",fillRule:"evenodd",clipRule:"evenodd",d:t,fill:c})})},Tt=(c(344),function(e){var t=e.setIsOpen,c=e.setPage,a=e.setCurrentPage,r=e.setCurrentTitle;return Object(n.jsx)(d.a,{className:"menu",style:{background:"#fff"},children:Object(n.jsx)(Et.b,{itemLayout:"horizontal",dataSource:qe,className:"wrapper",renderItem:function(e){return Object(n.jsx)(Et.b.Item,{className:"list",onClick:function(){return n=e.type,s=e.name,t(!1),c(n),a(1),void r(s);var n,s},children:Object(n.jsx)(Et.b.Item.Meta,{avatar:Object(n.jsx)(It,{svg:e.picture,color:e.fill,width:e.width,height:e.height}),description:e.name,className:"item"})})}})})}),Ht=c(452),Pt=c.p+"static/media/Notifications.25657f73.svg",Vt=c.p+"static/media/Shape.49419f76.svg",Mt=(c(345),function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ht.a,{className:"input",placeholder:"\u041f\u043e\u0438\u0441\u043a",bordered:!1,prefix:Object(n.jsx)(q.a,{src:Vt,alt:"shape"})}),Object(n.jsx)("div",{className:"notifications",children:Object(n.jsx)(q.a,{src:Pt,alt:"notifications",preview:!1})}),Object(n.jsx)(Ie.a,{className:"admins",defaultValue:"Admin",bordered:!1,children:Object(n.jsx)(Ie.a.Option,{value:"Admin",children:"Admin"})})]})}),Lt=c(7),_t=(c(350),Ie.a.Option),Ft=Fe.a.Text,At=function(e){var t=e.essence,c=e.setEssence,r=Object(a.useState)([]),s=Object(U.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)(""),l=Object(U.a)(u,2),j=l[0],b=l[1],m=t.page,O="car"===m?"category":"city";Object(a.useEffect)((function(){Se(O).then((function(e){var t=e.data.map((function(e){return{id:e.id,name:e.name}}));o(t)}))}),[]);if("car"===m||"point"===m)return Object(n.jsxs)(d.a,{className:"select-option",children:[Object(n.jsx)(Ft,{className:"title-option",children:et[O]}),Object(n.jsx)(Ie.a,{style:{width:"100%"},defaultValue:j,value:j,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 ".concat(et[O]),onChange:function(e){b(e);var n=i.filter((function(t){return t.name===e}));c("car"===m?Object(fe.a)(Object(fe.a)({},t),{},Object(Lt.a)({},"categoryId",n[0])):Object(fe.a)(Object(fe.a)({},t),{},Object(Lt.a)({},"cityId",n[0])))},children:i.map((function(e,t){var c=e.name;return Object(n.jsx)(_t,{value:c,children:c},t)}))})]})},Dt=(c(351),function(e){var t=e.essence,c=e.setEssence,r=Object(a.useState)([]),s=Object(U.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)(""),l=Object(U.a)(u,2),j=l[0],b=l[1];Object(a.useEffect)((function(){c(Object(fe.a)(Object(fe.a)({},t),{},Object(Lt.a)({},"colors",i)))}),[i]);return Object(n.jsxs)(d.a,{className:"input-option",children:[Object(n.jsx)("span",{className:"title-option",children:"\u0426\u0432\u0435\u0442\u0430"}),Object(n.jsx)(Ht.a,{value:j,onChange:function(e){b(e.target.value)},onPressEnter:function(){o([].concat(Object(pe.a)(i),[j])),b("")},className:"input"}),Object(n.jsx)(d.a,{className:"color-wrapper",children:i.map((function(e,t){return Object(n.jsx)("span",{style:{background:i[t]},className:"color",onClick:function(){return function(e,t){var c=i.filter((function(c,n){if(c!==e&&n!==t)return!0}));o(c)}(e,t)},children:e},e)}))})]})}),Zt=function(){var e=Object(P.a)(H.a.mark((function e(t,c){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(we).concat(c,"/").concat(t),e.next=4,fetch(n,{headers:Object(fe.a)(Object(fe.a)({},ke),{},{Authorization:"Bearer ".concat(localStorage.getItem("token"))})});case 4:if((a=e.sent).ok){e.next=13;break}return e.t0=Error,e.t1="HTTP ".concat(a.status,": "),e.next=10,a.text();case 10:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 13:return e.next=15,a.json();case 15:return r=e.sent,e.abrupt("return",r);case 19:throw e.prev=19,e.t4=e.catch(0),new Error("Error: ".concat(e.t4.message));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,c){return e.apply(this,arguments)}}(),zt=function(){var e=Object(P.a)(H.a.mark((function e(t,c,n){var a,r,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(we).concat(n,"/").concat(t),e.next=4,fetch(a,{method:"PUT",headers:Object(fe.a)(Object(fe.a)({},ke),{},{Authorization:"Bearer ".concat(localStorage.getItem("token"))}),body:JSON.stringify(c)});case 4:if((r=e.sent).ok){e.next=13;break}return e.t0=Error,e.t1="HTTP ".concat(r.status,": "),e.next=10,r.text();case 10:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 13:return e.next=15,r.json();case 15:return s=e.sent,e.abrupt("return",s);case 19:throw e.prev=19,e.t4=e.catch(0),new Error("Error: ".concat(e.t4.message));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,c,n){return e.apply(this,arguments)}}(),Rt=(c(352),function(e){var t=e.value,c=e.name,a=e.setEssence,r=e.essence;return Object(n.jsxs)(d.a,{className:"admin-input",children:[Object(n.jsx)("label",{className:"label",htmlFor:Ye(et[c]),children:Ye(et[c])}),Object(n.jsx)(Ht.a,{defaultValue:t,className:"input",id:c,onChange:function(e){return a(Object(fe.a)(Object(fe.a)({},r),{},Object(Lt.a)({},c,e.target.value)))}})]})}),Yt=d.a.Footer,Bt=d.a.Content,Gt=d.a.Header,Jt=function(e){var t=e.essence,c=e.setEssence,a=e.setPage,r=t.id,s=t.page;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Gt,{className:"header",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 ".concat(et[s])}),Object(n.jsxs)(Bt,{className:"content",children:[tt[s].map((function(e){return Object(n.jsx)(Rt,{essence:t,setEssence:c,value:t[e],name:e},e)})),function(){if("car"===s&&"new"===r||"point"===s&&"new"===r)return Object(n.jsx)(At,{essence:t,setEssence:c})}(),function(){if("car"===s&&"new"===r)return Object(n.jsx)(Dt,{essence:t,setEssence:c})}()]}),Object(n.jsxs)(Yt,{className:"footer",children:[Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b.a,{className:"save",onClick:function(){var e=Object(fe.a)({},t);ct.forEach((function(t){return delete e[t]})),"new"!==r?zt(r,e,s):wt(e,s),a(s)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(n.jsx)(b.a,{onClick:function(){return a(s)},className:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}),Object(n.jsx)(b.a,{onClick:function(){return Zt(r,s)},className:"delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},Ut=c(449),Wt=function(e){var t=e.setEssence,c=e.essence,a=c.thumbnail,r=c.page;return Object(n.jsxs)(n.Fragment,{children:[function(){if(a.path)return Object(n.jsx)(q.a,{src:Be(a),alt:r,referrerPolicy:"origin",crossOrigin:"anonymous"})}(),Object(n.jsx)(Ht.a,{type:"file",onChange:function(e){var n=e.target.files[0],a={originalname:n.name,mimetype:n.type,size:n.size};(function(e){return new Promise((function(t,c){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return c(e)}}))})(n).then((function(e){t(Object(fe.a)(Object(fe.a)({},c),{},{thumbnail:Object(fe.a)(Object(fe.a)({},a),{},{path:e})}))}))}})]})},qt=d.a.Content,Kt=Fe.a.Text,Xt=function(e){var t=e.essence,c=e.setEssence,a=t.name,r=t.description,s=t.page,i=function(){return 100*(tt[s].reduce((function(e,c){return t[c]&&(e+=1),e}),0)/tt[s].length)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{className:"name-wrapper",children:Object(n.jsxs)(qt,{children:[Object(n.jsx)(Kt,{children:a}),function(){if("car"===s)return Object(n.jsx)(Wt,{setEssence:c,essence:t})}()]})}),Object(n.jsx)(d.a,{className:"percent-wrapper",children:Object(n.jsxs)(qt,{children:[Object(n.jsx)(Kt,{children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e: ".concat(i()," %")}),Object(n.jsx)(Ut.a,{percent:i(),status:"active",showInfo:!1})]})}),Object(n.jsxs)(d.a,{className:"description-wrapper",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",Object(n.jsx)(qt,{className:"description",children:r})]})]})},Qt=(c(353),Ie.a.Option),$t=Fe.a.Text,ec=d.a.Content,tc=function(e){var t=e.func,c=e.essence,r=e.property,s=e.trans,i=e.setPage,o=Object(a.useState)([{}]),u=Object(U.a)(o,2),l=u[0],j=u[1],d=Object(a.useState)(c[r].name),b=Object(U.a)(d,2),m=b[0],O=b[1];return Object(a.useEffect)((function(){"point"!==r&&"color"!==r&&Se(r).then((function(e){var t=e.data.map((function(e){return{name:e.name,id:e.id}}));j(t)})).catch((function(){return i(Qe)}))}),[]),Object(a.useEffect)((function(){"color"===r&&Se("car").then((function(e){e.data.forEach((function(e){var t=e.name,n=e.colors,a=e.id;if(t===c.car.name){var r=n.map((function(e){return{name:e,id:a}}));j(r)}}))})).catch((function(){return i(Qe)})),"point"===r&&Se(r).then((function(e){var t=e.data.reduce((function(e,t){var n=t.address,a=t.id;return t.cityId.name===c.city.name&&e.push({name:n,id:a}),e}),[]);j(t)})).catch((function(){return i(Qe)}))}),[c]),Object(a.useEffect)((function(){var e=l.findIndex((function(e){return e.name===c[r].name})),t=0===l.length?"":l[0].name;O(e>=0?c[r].name:t)}),[l,O]),Object(n.jsxs)(ec,{className:"settings-item__select",children:[Object(n.jsx)($t,{className:"name",children:s}),Object(n.jsx)(Ie.a,{defaultValue:c[r].name,className:"select",value:m,onChange:function(e){O(e);var n=l.filter((function(t){return t.name===e}));t(Object(fe.a)(Object(fe.a)({},c),{},Object(Lt.a)({},r,n[0])))},children:l.map((function(e,t){var c=e.name;return Object(n.jsx)(Qt,{value:c,children:c},t)}))})]})},cc=Object(a.memo)(tc),nc=c(455),ac=(c(354),Fe.a.Text),rc=d.a.Content,sc=function(e){var t=e.func,c=e.essence,a=e.property,r=e.trans;return Object(n.jsxs)(rc,{className:"settings-item__switch",children:[Object(n.jsx)(ac,{className:"name",children:r}),Object(n.jsx)(nc.a,{onChange:function(e){return t(Object(fe.a)(Object(fe.a)({},c),{},Object(Lt.a)({},a,e)))},defaultChecked:c[a],className:"switch"})]})},ic=(c(355),Fe.a.Text),oc=d.a.Content,uc=function(e){var t=e.func,c=e.essence,a=e.property,r=0===a?"C":"\u0414\u043e",s=0===a?"dateFrom":"dateTo";return Object(n.jsxs)(oc,{className:"settings-item__data",children:[Object(n.jsx)(ic,{children:r}),Object(n.jsx)(ut.a,{showTime:{format:"HH:mm"},format:"DD-MM-YYYY HH:mm",defaultValue:jt()(c[s]),onOk:function(e){return t(Object(fe.a)(Object(fe.a)({},c),{},Object(Lt.a)({},s,e._d.getTime())))},className:"date"})]})},lc=(c(356),{car:"\u041c\u0430\u0448\u0438\u043d\u0430",city:"\u0413\u043e\u0440\u043e\u0434",point:"\u0410\u0434\u0440\u0435\u0441\u0441",orderStatus:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043a\u0430\u0437\u0430",color:"\u0426\u0432\u0435\u0442"}),jc={isFullTank:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a",isNeedChildChair:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e",isRightWheel:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c"},dc=function(e){var t=e.essence,c=e.setEssence,a=e.setPage,r=t.dateTo,s=t.dateFrom,i=t.id,o=t.orderStatus,u=t.city,l=t.point,j=t.car,m=t.color,O=t.price,h=t.isFullTank,f=t.isNeedChildChair,p=t.isRightWheel;return Object(n.jsxs)(d.a,{className:"setttings-order",children:[Object.entries(lc).map((function(e,r){var s=Object(U.a)(e,2),i=s[0],o=s[1];return Object(n.jsx)(cc,{func:c,essence:t,property:i,trans:o,setPage:a},r)})),Object.entries(jc).map((function(e,a){var r=Object(U.a)(e,2),s=r[0],i=r[1];return Object(n.jsx)(sc,{func:c,essence:t,property:s,trans:i},a)})),[s,r].map((function(e,a){return Object(n.jsx)(uc,{func:c,essence:t,property:a},e)})),Object(n.jsxs)(d.a,{className:"wrapper",children:[Object(n.jsx)(b.a,{onClick:function(){return a("order")},className:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(n.jsx)(b.a,{onClick:function(){zt(i,{orderStatusId:o.id,cityId:u.id,pointId:l.id,carId:j.id,color:m,dateFrom:s,dateTo:r,price:O,isFullTank:h,isNeedChildChair:f,isRightWheel:p},"order"),a("order")},className:"save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},bc=Object(a.memo)(dc),mc=(c(357),function(e){var t=e.essence,c=e.setPage,a=e.setEssence;return"order"===t.page?Object(n.jsx)(bc,{essence:t,setEssence:a,setPage:c}):Object(n.jsxs)(d.a,{className:"card-wrapper",style:{flexDirection:"initial"},children:[Object(n.jsx)(d.a,{className:"card",children:Object(n.jsx)(Xt,{essence:t,setEssence:a})}),Object(n.jsx)(d.a,{className:"form",children:Object(n.jsx)(Jt,{essence:t,setEssence:a,setPage:c})})]})}),Oc=function(e,t,c){Se("orderStatus").then((function(t){return t.data.filter((function(t){return t.name===e}))})).then((function(e){return zt(t,Object(fe.a)(Object(fe.a)({},c),{},{orderStatusId:{id:e[0].id}}),"order")}))},hc=c.p+"static/media/Shape1.35a8bd90.svg",fc=c.p+"static/media/Shape2.ebfbf7fc.svg",pc=(c(358),Fe.a.Title),xc=d.a.Content,vc=d.a.Header,gc=d.a.Footer,Nc=function(e){var t=e.ordersInfo,c=e.countPages,r=e.currentPage,s=e.currentTitle,i=e.setCurrentPage,o=e.setEssence,u=e.setPage,l=Object(a.useState)(""),j=Object(U.a)(l,2),b=j[0],m=j[1];if(Object(a.useEffect)((function(){void 0!==t&&m(t.data[0].orderStatusId.name)}),[t]),void 0!==t){var O=t.data[0],h=O.carId,f=O.cityId,p=O.pointId,x=O.dateFrom,v=O.dateTo,g=O.color,N=O.isFullTank,y=O.isNeedChildChair,w=O.isRightWheel,C=O.price,k=O.id,S=O.orderStatusId,E=jt()(x).format("DD.MM.YYYY hh:mm"),I=jt()(v).format("DD.MM.YYYY hh:mm"),T=function(e){Oc(e,k,t.data[0]),m(e)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(pc,{className:"title",children:s}),Object(n.jsxs)(d.a,{className:"wrapper-orders",children:[Object(n.jsx)(vc,{className:"header-orders",children:"\u0421\u0442\u0430\u0442\u0443\u0441: ".concat(et[b])}),Object(n.jsxs)(xc,{className:"orders",children:[function(){if(h)return Object(n.jsx)("div",{className:"picture",children:Object(n.jsx)(q.a,{src:"".concat(ye).concat(h.thumbnail.path),alt:h.name,preview:!1,referrerPolicy:"origin",crossOrigin:"anonymous",className:"image"})})}(),Object(n.jsxs)("div",{className:"information",children:[Object(n.jsxs)(xc,{children:[Object(n.jsx)("span",{className:"words",children:function(){if(h)return h.name}()}),Object(n.jsx)("span",{className:"words",children:"\u0432 ".concat(f.name,",")}),Object(n.jsx)("span",{children:" ".concat(p.address)})]}),Object(n.jsx)(xc,{children:"".concat(E," - ").concat(I)}),Object(n.jsx)(xc,{children:"\u0426\u0432\u0435\u0442: ".concat(g)})]}),Object(n.jsxs)("div",{className:"options",children:[Object(n.jsx)(ft.a,{checked:N,className:"option",children:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"}),Object(n.jsx)(ft.a,{checked:y,className:"option",children:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"}),Object(n.jsx)(ft.a,{checked:w,className:"option",children:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c"})]}),Object(n.jsx)("div",{className:"price",children:"".concat(C," \u20bd")}),Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsxs)("span",{onClick:function(){return T("confirmed")},children:[Object(n.jsx)(q.a,{src:hc,alt:"ok",className:"image"}),"\u0413\u043e\u0442\u043e\u0432\u043e"]}),Object(n.jsxs)("span",{onClick:function(){return T("cancelled")},children:[Object(n.jsx)(q.a,{src:fc,alt:"cancel",className:"image"}),"\u041e\u0442\u043c\u0435\u043d\u0430"]}),Object(n.jsxs)("span",{onClick:function(){u(Xe),o({id:k,color:g,dateFrom:x,dateTo:v,isFullTank:N,isNeedChildChair:y,isRightWheel:w,car:{name:h.name,id:h.id},city:{name:f.name,id:f.id},orderStatus:{name:S.name,id:S.id},point:{name:p.address,id:p.id},page:"order"})},children:[Object(n.jsx)(q.a,{src:fc,alt:"change",className:"image"}),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"]})]})]}),Object(n.jsx)(gc,{className:"footer-orders",children:Object(n.jsx)(Ze,{func:i,countPages:c,currentPage:r})})]})]})}return Object(n.jsx)(Ue,{})},yc=(c(359),Fe.a.Text),wc=function(){return Object(n.jsxs)(d.a,{className:"admin-error",children:[Object(n.jsx)(yc,{className:"code",children:"500"}),Object(n.jsx)(yc,{className:"description",children:"\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),Object(n.jsx)(yc,{children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"}),Object(n.jsx)(b.a,{children:"\u041d\u0430\u0437\u0430\u0434"})]})},Cc=c(445),kc=(c(360),Fe.a.Title),Sc=function(e){var t=e.setEssence,c=e.setPage,a=e.currentTitle,r=e.page;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(kc,{className:"title",children:a}),Object(n.jsx)(b.a,{className:"button",onClick:function(){var e=tt[r].reduce((function(e,t){var c,n=Object(fe.a)(Object(fe.a)({},e),{},(c={},Object(Lt.a)(c,t,""),Object(Lt.a)(c,"id","new"),Object(Lt.a)(c,"page",r),c));switch(r){case"point":return Object(fe.a)(Object(fe.a)({},n),{},{cityId:{name:"",id:""}});case"car":return Object(fe.a)(Object(fe.a)({},n),nt);default:return n}}),{});t(e),c(Xe)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c ".concat(a)})]})},Ec=(c(361),function(e){var t=e.tableData,c=e.setPage,a=e.setEssence,r=e.countPages,s=e.setCurrentPage,i=e.currentPage,o=e.page,u=e.currentTitle,l=tt[o].map((function(e,t){return{dataIndex:e,key:t,title:Ye(et[e])}}));return Object(n.jsxs)(d.a,{className:"table-admin",children:[Object(n.jsx)(d.a,{className:"wrapper-button",children:function(){if(o!==Xe&&o!==Ke)return Object(n.jsx)(Sc,{setEssence:a,setPage:c,page:o,currentTitle:u})}()}),Object(n.jsx)(d.a,{className:"wrapper-table",children:Object(n.jsx)(Cc.a,{dataSource:t,columns:l,size:"small",onRow:function(e){return{onClick:function(){return t=e,c(Xe),void a(t);var t}}},rowClassName:"card-row",pagination:{hideOnSinglePage:!0,size:"small",position:["bottomCenter"],pageSizeOptions:[],total:r,current:i,onChange:function(e){return s(e)}},className:"table"})})]})}),Ic=function(e){var t=e.setPage,c=e.setEssence,a=e.setCurrentPage,r=e.essence,s=e.tableData,o=e.ordersInfo,u=e.countPages,l=e.currentPage,j=e.currentTitle,d=e.page;switch(d){case"logo":return Object(n.jsx)(i.a,{to:"/carsharing/main"});case Xe:return Object(n.jsx)(mc,{essence:r,setPage:t,setEssence:c});case Ke:return Object(n.jsx)(Nc,{ordersInfo:o,countPages:u,currentPage:l,setCurrentPage:a,setPage:t,setEssence:c,currentTitle:j});case Qe:return Object(n.jsx)(wc,{});default:return Object(n.jsx)(Ec,{tableData:s,setPage:t,page:d,setEssence:c,setCurrentPage:a,countPages:u,currentPage:l,currentTitle:j})}},Tc=(c(433),function(){return Object(n.jsxs)("div",{className:"admin-footer",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(m.b,{to:"/carsharing/main/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(n.jsx)(m.b,{to:"/carsharing/main/",children:"\u0421\u0441\u044b\u043b\u043a\u0430"})]}),Object(n.jsx)("span",{children:"Copyright \xa9 2020 Simbirsoft"})]})}),Hc=(c(434),d.a.Sider),Pc=d.a.Header,Vc=d.a.Content,Mc=d.a.Footer,Lc=function(){var e=Object(a.useState)(!1),t=Object(U.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)("car"),u=Object(U.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)([]),m=Object(U.a)(b,2),O=m[0],h=m[1],f=Object(a.useState)(),p=Object(U.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(0),N=Object(U.a)(g,2),y=N[0],w=N[1],C=Object(a.useState)(1),k=Object(U.a)(C,2),S=k[0],E=k[1],I=Object(a.useState)(),T=Object(U.a)(I,2),H=T[0],P=T[1],V=Object(a.useState)("\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438"),M=Object(U.a)(V,2),L=M[0],_=M[1],F=Object(o.e)(z),A=F.isAdmin,D=F.isAuth;return Object(a.useEffect)((function(){if($e.some((function(e){return e===l}))){var e=S-1;l===Ke?Ee(l,e).then((function(e){P(e),w(e.count)})).catch((function(){return j(Qe)})):Se(l,e,10).then((function(e){var t=e.data.map((function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{key:t,page:l})}));h(t),w(e.count)})).catch((function(){return j(Qe)}))}}),[l,S]),D&&A?Object(n.jsxs)(d.a,{className:"admin-page",children:[Object(n.jsx)("button",{className:c?"control btn-off":"control btn-on",onClick:function(){return r(!c)}}),Object(n.jsx)(Hc,{width:"285px",className:c?"slider-open slider":"slider-close slider",children:Object(n.jsx)(Tt,{setIsOpen:r,setPage:j,setCurrentPage:E,setCurrentTitle:_})}),Object(n.jsxs)(d.a,{className:"wrapper-content",children:[Object(n.jsx)(Pc,{className:"header",children:Object(n.jsx)(Mt,{})}),Object(n.jsx)(Vc,{className:"content",children:Object(n.jsx)(Ic,{setEssence:v,setPage:j,setCurrentPage:E,ordersInfo:H,essence:x,tableData:O,countPages:y,currentPage:S,currentTitle:L,page:l})}),Object(n.jsx)(Mc,{className:"footer",children:Object(n.jsx)(Tc,{})})]})]}):Object(n.jsx)(i.a,{to:"/carsharing/main/"})},_c=function(){var e=Object(P.a)(H.a.mark((function e(t,c){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(we).concat(t,"/").concat(c),e.next=4,fetch(n,{headers:ke});case 4:if((a=e.sent).ok){e.next=13;break}return e.t0=Error,e.t1="HTTP ".concat(a.status,": "),e.next=10,a.text();case 10:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 13:return e.next=15,a.json();case 15:return r=e.sent,e.abrupt("return",r);case 19:throw e.prev=19,e.t4=e.catch(0),new Error("Error in getById: ".concat(e.t4.message));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,c){return e.apply(this,arguments)}}(),Fc=[{name:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",value:"",orderNumber:0,visible:!0,cityId:"",pointId:""},{name:"\u041c\u043e\u0434\u0435\u043b\u044c",value:"",orderNumber:1,visible:!0,min:0,max:0,number:"",pathImg:"",time:"",carId:""},{name:"\u0426\u0432\u0435\u0442",value:"",orderNumber:2,visible:!0},{name:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b",value:"",orderNumber:2,count:0,visible:!0,start:0,end:0},{name:"\u0422\u0430\u0440\u0438\u0444",value:"",orderNumber:2,count:0,visible:!0,rateId:""},{name:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a",value:"\u0414\u0430",orderNumber:2,count:500,visible:!1},{name:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e",value:"\u0414\u0430",orderNumber:2,count:200,visible:!1},{name:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c",value:"\u0414\u0430",orderNumber:2,count:1600,visible:!1}],Ac=(c(435),d.a.Content);!function(e){e[e["\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438"]=0]="\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",e[e["\u041c\u043e\u0434\u0435\u043b\u044c"]=1]="\u041c\u043e\u0434\u0435\u043b\u044c",e[e["\u0426\u0432\u0435\u0442"]=2]="\u0426\u0432\u0435\u0442",e[e["\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b"]=3]="\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b",e[e["\u0422\u0430\u0440\u0438\u0444"]=4]="\u0422\u0430\u0440\u0438\u0444",e[e["\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"]=5]="\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a",e[e["\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"]=6]="\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e",e[e["\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c"]=7]="\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c"}(I||(I={}));var Dc,Zc={0:"",1:"",2:"",3:"",4:"",5:!1,6:!1,7:!1},zc=function(){var e=Object(o.d)(),t=Object(a.useState)(Zc),c=Object(U.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)(0),u=Object(U.a)(i,2),l=u[0],j=u[1],O=Object(a.useState)({}),h=Object(U.a)(O,2),f=h[0],p=h[1],x=localStorage.getItem("id");Object(a.useEffect)((function(){_c("order",x).then((function(e){var t=e.data;p(t);var c=t.cityId,n=t.pointId,a=t.carId,r=t.color,i=t.dateFrom,o=t.dateTo,u=t.rateId,l=t.price,d=t.isFullTank,b=t.isNeedChildChair,m=t.isRightWheel;s({0:"".concat(c.name," ").concat(n.address),1:"".concat(a.name),2:"".concat(r),3:Re(i,o),4:"".concat(u.rateTypeId.name),5:d,6:b,7:m}),j(l)}))}),[]);return Object(n.jsxs)(d.a,{className:"confirm-page",style:{overflow:"hidden",background:"#fff"},children:[Object(n.jsx)(oe,{}),Object(n.jsx)(Ac,{className:"wrapper",children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(Y,{}),Object(n.jsx)(Ac,{className:"tabs",children:Object(n.jsx)("div",{className:"statuses",children:Object(n.jsx)("span",{className:"status title-order",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 ".concat(x)})})}),Object(n.jsxs)(Ac,{className:"content",children:[Object(n.jsx)("div",{className:"forms",children:Object(n.jsx)(Nt,{})}),Object(n.jsxs)("div",{className:"result",children:[Object(n.jsx)("h2",{children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437"}),Object.entries(r).map((function(e){var t=Object(U.a)(e,2),c=t[0],a=t[1];if(a)return Object(n.jsxs)("div",{className:"list",children:[Object(n.jsx)("div",{className:"dots link",children:Object(n.jsx)("span",{className:"field",children:I[c]})}),Object(n.jsx)("span",{className:"address",children:a})]},c)})),Object(n.jsx)("div",{className:"price",children:"\u0426\u0435\u043d\u0430: ".concat(l)}),Object(n.jsx)(m.b,{to:"/carsharing/order",children:Object(n.jsx)(b.a,{className:"btn-cancel",onClick:function(){Oc("cancelled",x,f),e({type:y,payload:Fc})},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})]})})]})},Rc=c(447),Yc=function(){var e=Object(P.a)(H.a.mark((function e(t,c){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(Ce).concat(t),e.next=4,fetch(n,{method:"POST",headers:ke,body:JSON.stringify(c)});case 4:if((a=e.sent).ok){e.next=13;break}return e.t0=Error,e.t1="HTTP ".concat(a.status,": "),e.next=10,a.text();case 10:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 13:return e.next=15,a.json();case 15:return r=e.sent,e.abrupt("return",r);case 19:throw e.prev=19,e.t4=e.catch(0),new Error("Error in registerUser path ".concat(t,": ").concat(e.t4.message));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,c){return e.apply(this,arguments)}}(),Bc=function(){var e=Object(P.a)(H.a.mark((function e(t,c){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Ce).concat(t),e.next=3,fetch(n,{method:"POST",headers:Object(fe.a)(Object(fe.a)({},ke),{},{Authorization:"Basic ".concat(btoa("".concat(Math.random().toString(36).substr(2,7),":4cbcea96de")))}),body:JSON.stringify(c)});case 3:if((a=e.sent).ok){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Gc=c.p+"static/media/logo.830257bf.svg",Jc=(c(436),{username:"",password:""}),Uc=[{required:!0,message:"\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"},{min:5,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}],Wc=function(){var e=Object(o.d)(),t=Object(a.useState)(Jc),c=Object(U.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)(""),u=Object(U.a)(i,2),l=u[0],j=u[1];return Object(n.jsx)("div",{className:"authorization-page",children:Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsxs)("div",{className:"logo",children:[Object(n.jsx)(q.a,{src:Gc,alt:"logo_auth",className:"image"}),Object(n.jsx)("span",{className:"title",children:"Need for drive"})]}),Object(n.jsxs)("div",{className:"entry",children:[Object(n.jsx)("span",{children:"\u0412\u0445\u043e\u0434"}),Object(n.jsx)("span",{children:l})]}),Object(n.jsx)("div",{children:Object(n.jsxs)(Rc.a,{name:"login-form",initialValues:{remember:!0},onValuesChange:function(e,t){return c=t,l&&j(""),void s(c);var c},children:[Object(n.jsx)(Rc.a.Item,{label:"\u041f\u043e\u0447\u0442\u0430",name:"username",labelCol:{span:24},wrapperCol:{span:24},rules:Uc,children:Object(n.jsx)(Ht.a,{})}),Object(n.jsx)(Rc.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",labelCol:{span:24},wrapperCol:{span:24},rules:Uc,children:Object(n.jsx)(Ht.a.Password,{})}),Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsx)(Rc.a.Item,{className:"registration",children:Object(n.jsx)(b.a,{type:"link",htmlType:"submit",onClick:function(){return Yc("register",r)},children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"})}),Object(n.jsx)(Rc.a.Item,{className:"authorization",children:Object(n.jsx)(b.a,{type:"primary",htmlType:"submit",onClick:function(){Bc("login",r).then((function(t){var c=r.username,n=r.password;t?(localStorage.setItem("token",t.access_token),e(E("intern"==c&&"intern-S!"===n?{admin:!0,auth:t.access_token}:{admin:!1,auth:t.access_token}))):j("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}))},children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})})]})})},qc=function(){var e=Object(o.e)(z),t=e.isAdmin;return e.isAuth?t?Object(n.jsx)(i.a,{to:"/carsharing/admin/"}):Object(n.jsx)(i.a,{to:"/carsharing/main/"}):Object(n.jsx)(Wc,{})},Kc={userCity:""},Xc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kc,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case O:return Object(fe.a)(Object(fe.a)({},e),{},{userCity:n});default:return e}},Qc={orderList:Fc},$c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qc,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case h:return{orderList:e.orderList.map((function(e,t){var c=n.value,a=n.cityId,r=n.pointId;return 0===t?Object(fe.a)(Object(fe.a)({},e),{},{value:c,cityId:a,pointId:r}):e}))};case f:return{orderList:e.orderList.map((function(e,t){var c=n.value,a=n.min,r=n.max,s=n.number,i=n.pathImg,o=n.time,u=n.carId;return 1===t?Object(fe.a)(Object(fe.a)({},e),{},{value:c,min:a,max:r,number:s,pathImg:i,time:o,carId:u}):e}))};case p:return{orderList:e.orderList.map((function(e,t){return 2===t?Object(fe.a)(Object(fe.a)({},e),{},{value:n}):e}))};case x:return{orderList:e.orderList.map((function(e,t){var c=n.value,a=n.count,r=n.start,s=n.end;return 3===t?Object(fe.a)(Object(fe.a)({},e),{},{value:c,count:a,start:r,end:s}):e}))};case v:return{orderList:e.orderList.map((function(e,t){var c=n.value,a=n.count,r=n.rateId;return 4===t?Object(fe.a)(Object(fe.a)({},e),{},{value:c,count:a,rateId:r}):e}))};case g:return{orderList:e.orderList.map((function(e,t){var c=n.ind,a=n.visible;return t===c?Object(fe.a)(Object(fe.a)({},e),{},{visible:a}):e}))};case y:return{orderList:n};default:return e}},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case N:return n;default:return e}},tn={isAdmin:!1,isAuth:!1},cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case w:return{isAdmin:n.admin,isAuth:n.auth};default:return e}},nn=(c(439),c(440),c(216)),an=Object(nn.a)(),rn=Object(u.createStore)((Dc=an,Object(u.combineReducers)({information:Xc,order:$c,price:en,auth:cn,router:Object(j.b)(Dc)})),Object(l.composeWithDevTools)()),sn=function(){return Object(n.jsx)(o.a,{store:rn,children:Object(n.jsx)(j.a,{history:an,children:Object(n.jsxs)(i.d,{children:[Object(n.jsx)(i.b,{exact:!0,path:"/carsharing/",children:Object(n.jsx)(qc,{})}),Object(n.jsx)(i.b,{exact:!0,path:"/carsharing/main/",children:Object(n.jsx)(he,{})}),Object(n.jsx)(i.b,{exact:!0,path:"/carsharing/order",children:Object(n.jsx)(St,{})}),Object(n.jsx)(i.b,{exact:!0,path:"/carsharing/order/".concat(localStorage.getItem("id")),children:Object(n.jsx)(zc,{})}),Object(n.jsx)(i.b,{exact:!0,path:"/carsharing/admin/",children:Object(n.jsx)(Lc,{})})]})})})},on=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,456)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(n.jsx)(m.a,{children:Object(n.jsx)(sn,{})}),document.getElementById("root")),on()}},[[441,1,2]]]);
//# sourceMappingURL=main.69e88e7d.chunk.js.map